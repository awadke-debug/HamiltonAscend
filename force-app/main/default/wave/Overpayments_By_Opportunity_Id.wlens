{"filters":[],"gridLayouts":[],"layouts":[],"steps":{"saql":{"broadcastFacet":false,"groups":[],"numbers":[],"query":"q = load \"Gift_Credit_and_Payment\";\nq = filter q by 'ucinn_ascendv2__Gift_Type_Formula__c' == \"Pledge\";\nq = filter q by 'Opportunity.StageName' == \"Paid\";\nq_A = filter q by 'Object' == \"Payment\";\nq_B = filter q by 'Object' == \"Gift Pledge\";\nq_A = group q_A by rollup('Designation.ucinn_ascendv2__Opportunity__c');\nq_A = foreach q_A generate q.'Designation.ucinn_ascendv2__Opportunity__c' as 'Designation.ucinn_ascendv2__Opportunity__c', sum(q_A.'ucinn_ascendv2__Credit_Amount__c') as 'A', grouping(q_A.'Designation.ucinn_ascendv2__Opportunity__c') as 'grouping_Designation.ucinn_ascendv2__Opportunity__c';\nq_B = group q_B by rollup('Designation.ucinn_ascendv2__Opportunity__c');\nq_B = foreach q_B generate q.'Designation.ucinn_ascendv2__Opportunity__c' as 'Designation.ucinn_ascendv2__Opportunity__c', sum(q_B.'ucinn_ascendv2__Credit_Amount__c') as 'B', grouping(q_B.'Designation.ucinn_ascendv2__Opportunity__c') as 'grouping_Designation.ucinn_ascendv2__Opportunity__c';\nq = cogroup q_A by ('Designation.ucinn_ascendv2__Opportunity__c', 'grouping_Designation.ucinn_ascendv2__Opportunity__c') full, q_B by ('Designation.ucinn_ascendv2__Opportunity__c', 'grouping_Designation.ucinn_ascendv2__Opportunity__c');\nq = foreach q generate coalesce(q_A.'Designation.ucinn_ascendv2__Opportunity__c', q_B.'Designation.ucinn_ascendv2__Opportunity__c') as 'Designation.ucinn_ascendv2__Opportunity__c', coalesce(q_A.'grouping_Designation.ucinn_ascendv2__Opportunity__c', q_B.'grouping_Designation.ucinn_ascendv2__Opportunity__c') as 'grouping_Designation.ucinn_ascendv2__Opportunity__c', first(q_A.'A') as 'Payment Amount', first(q_B.'B') as 'Gift Pledge Amount';\nq = foreach q generate 'Designation.ucinn_ascendv2__Opportunity__c', 'grouping_Designation.ucinn_ascendv2__Opportunity__c', 'Payment Amount', 'Gift Pledge Amount', coalesce('Payment Amount',0) - coalesce('Gift Pledge Amount',0) as 'Difference';\nq = filter q by 'Difference' != 0;\ns = filter q by 'grouping_Designation.ucinn_ascendv2__Opportunity__c' == 1;\nq = filter q by 'grouping_Designation.ucinn_ascendv2__Opportunity__c' == 0;\nq = order q by 'Difference' desc;\nq = limit q 20000;\nq = union q, s;\nq = limit q 20001;","receiveFacetSource":{"mode":"none","steps":[]},"selectMode":"none","strings":[],"type":"saql","useExternalFilters":false,"useGlobal":true}},"widgets":{"saql_table":{"parameters":{"borderColor":"#e0e5ee","borderWidth":1,"cell":{"backgroundColor":"#ffffff","fontColor":"#16325c","fontSize":12,"textWrap":true},"columnProperties":{},"columns":[],"customBulkActions":[],"header":{"backgroundColor":"#f4f6f9","fontColor":"#16325c","fontSize":12,"textWrap":true},"headerProperties":{},"innerMajorBorderColor":"#a8b7c7","innerMinorBorderColor":"#e0e5ee","interactions":[],"maxColumnWidth":300,"minColumnWidth":40,"mode":"variable","numberOfLines":1,"showActionMenu":true,"showRowIndexColumn":false,"step":"saql","verticalPadding":8},"type":"table"}}}