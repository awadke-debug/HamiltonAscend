{
  "version" : "61.0",
  "nodes" : {
    "EDIT_ATTRIBUTES65_copy0" : {
      "action" : "schema",
      "sources" : [ "FILTER35_copy0" ],
      "parameters" : {
        "fields" : [ {
          "name" : "Constituent_or_Account_Id",
          "newProperties" : {
            "label" : "Account or Contact Id",
            "name" : "Account_or_Contact_Id"
          }
        } ]
      }
    },
    "LOAD_DATASET41_copy0" : {
      "action" : "load",
      "sources" : [ ],
      "parameters" : {
        "fields" : [ "Is_Reunion_Year", "LastModifiedDate", "Opportunity.Adjustment_Session.ucinn_ascendv2__Is_Ready_for_G_L__c", "EnrichHFDa.Constituent_Credit_Date_Key", "Designation.ucinn_ascendv2__Areas_of_Giving_CASE_Type__c", "ucinn_ascendv2__Opportunity__c", "Spouse.Name", "Is_Gold", "CreatedBy.Name", "Designation.ucinn_ascendv2__CASE_Type__c", "Opportunity.RecordType.Name", "Contact.ucinn_ascendv2__Donor_ID__c", "ucinn_ascendv2__Credit_Type__c", "Opportunity.ucinn_ascendv2__Notes__c", "Designation.ucinn_ascendv2__Campaign__c", "PaymentGL.ucinn_ascendv2__Post_to_G_L_Date__c_payment", "Opportunity.ucinn_ascendv2__Pledge_Receivable_Notes__c", "Opportunity_Team.Opportunity_Team_List", "Opportunity.ucinn_ascendv2__Pledge_Gift_ID_Formula__c", "Primary_Relationship_Manager.Assigned_User", "Object", "Id", "Rollup_Degree.Major_Degree_List", "Contact.ucinn_ascendv2__Preferred_Class_Year__c", "Contact.ucinn_ascendv2__Full_Name_Formula__c", "Designation.HAM_Fund_Short_Name__c", "Is_Primary_Contact_or_Organization", "Contact.ucinn_ascendv2__Preferred_Spouse__c", "ucinn_asce.HAM_Status__c", "EnrichDail.Constituent_Credit_Date_Key", "Constituent_Fiscal_Year_Key", "Opportunity.ucinn_ascendv2__External_System_ID__c", "Organization_or_Constituent_Account_Id", "Designation.HAM_Match_Eligible__c", "ucinn_ascendv2__Session__c", "Designation.ucinn_ascendv2__Fund_Name__c", "EnrichDail.Max_Gift_Date_1YR", "Rollup_Degree.All_Degree_Reunion_Years", "Account.Id", "Account.ucinn_ascendv2__Primary_Contact__c", "Constituent_Date_Key", "EnrichHFDa.Max_HF_Gift_Date_1YR", "HAM_Constituent_Type__c", "Designation_test", "Opportunity.Name", "Campaign_Priority.Name", "ucinn_ascendv2__Designation_Detail__c", "ucinn_asce.Name", "Name_and_Suffix", "ucinn_ascendv2__G_L_Account_Formula__c", "Contact.ucinn_ascendv2__Date_of_Most_Recent_Gift__c", "Household_Gift_Credit_Key", "ucinn_ascendv2__External_System_ID__c", "ucinn_ascendv2__Gift_Type_Formula__c", "Hard_And_Soft_Credit_Payment.ucinn_ascendv2__Post_to_G_L_Date__c", "PaymentGL.ucinn_ascendv2__G_L_Account__c_payment", "Updated_Date", "Organization_or_Contact_External_Id", "Fiscal_Year", "PaymentGL.Id", "ISB.Is_ISB_Particpant", "Opportunity.HAM_CFY_Ask__c", "Hard_And_Soft_Credit_Payment.ucinn_ascendv2__Tender_Type_Formula__c", "Designation.desig_recordtype.Name", "Account.Type", "Designation.HAM_Campaign_Priority__c", "Contact.ucinn_ascendv2__Is_Deceased__c", "Opportunity.ucinn_asce.ucinn_ascendv2__Tributee__c", "CreatedById", "Secondary_Relationship_Manager.Assigned_User", "Contact.HAM_Institutional_Suffix__c", "Amount_Band", "Is_50th_Reunion", "Maximum_Date.Is_Constituent_Maximum_Total_Date", "Account.ucinn_ascendv2__External_System_ID__c", "Hard_And_Soft_Credit_Payment.ucinn_ascendv2__Session_Approved_Date_Formula__c", "Opportunity.StageName", "Reunion_Year_Flag", "Hard_And_Soft_Credit_Payment.ucinn_ascendv2__Designation_Detail__c", "Appeal.Name", "Wealth_Rating.ucinn_ascendv2__Wealth_Rating__c", "Designation.ucinn_ascendv2__Designation_Name__c", "Opportunity.HAM_MOU_Received__c", "ucinn_ascendv2__Credit_Date_Formula__c", "Designation.ucinn_ascendv2__Fund_Purpose__c", "Account.Record_Type.Name", "Opportunity.ucinn_asce.ucinn_ascendv2__Tribute_Type__c", "ucinn_asce.Id", "Designation.Name", "Designation.RecordTypeId", "Opportunity.ucinn_ascendv2__Credit_Date__c", "HAM_GOLD_Flag__c", "Rollup_Degree.All_Degree_Majors", "Designation.desig_recordtype.Id", "Retained_Contact.ucinn_ascendv2__Contact__c", "Amount_Band_Sort", "Reunion_Credit_Date", "Contact.ucinn_ascendv2__Primary_Contact_Type__c", "Designation.ucinn_ascendv2__Fund_Type__c", "Formatted_External_Id", "Hard_And_Soft_Credit_Payment.ucinn_ascendv2__G_L_Account__c", "Is_In_Period", "Designation.HAM_Match_Type__c", "ucinn_ascendv2__Payment__c", "Opportunity.ucinn_ascendv2__Adjustment_Session__c", "Opportunity.Type", "Hard_And_Soft_Credit_Payment.ucinn_ascendv2__Transaction_ID__c", "HAM_Reunion_Milestone__c", "Contact.ucinn_ascendv2__External_System_ID__c", "Opportunity.HAM_Copy_of_Will_Received__c", "Designation.HAM_Match__c", "Designation.ucinn_ascendv2__Parent_Designation__c", "Contact_Retention_Id", "Contact.HAM_Reunion_Year__c", "Constituent_or_Account_Id", "Spouse.ucinn_ascendv2__Preferred_Class_Year__c", "Designation.ucinn_ascendv2__CASE_Purpose_v1__c", "Contact.Name", "ucinn_ascendv2__Contact__c", "ucinn_ascendv2__Designation__c", "ucinn_ascendv2__Is_Ready_for_G_L_Formula__c", "Opportunity.Gift_Pledge_Id", "PaymentGL.ucinn_ascendv2__Session_Approved_Date_Formula__c_payment", "Designation.Id", "Account.Name", "Opportunity.HAM_Vice_President_Override__c", "Opportunity_Team.Opportunity_Team_Multivalue", "Hard_And_Soft_Credit_Payment.ucinn_ascendv2__Amount_Paid_to_Date_Same_Designation__c", "Contact.ucinn_ascendv2__Current_FY_Giving__c", "Opportunity.ucinn_ascendv2__Amount_Paid_to_Date_Roll_Up__c", "Fundraising_Amount_50th_Reunion", "Collected_Amount", "Designation.HAM_Maximum_Match__c", "Committed_Amount_50th_Reunion", "Contact.ucinn_ascendv2__Age_Formula__c", "Bequest_Intention_50th_Reunion", "ucinn_ascendv2__Amount_Paid_to_Date_Same_Designation__c", "ucinn_ascendv2__Credit_Amount__c", "GVAC.HAM_Give__c", "Credit_Amount_or_Amount_Paid_To_Date", "Number_of_Year_Past", "Committed_Amount", "Fundraising_Amount", "Contact.ucinn_ascendv2__Lifetime_Cash__c", "HAM_Reunion_Milestone_Year__c", "Opportunity.ucinn_ascendv2__Submitted_Amount__c", "Outstanding_Committed_Amount", "Hard_And_Soft_Credit_Payment.ucinn_ascendv2__Amount_Paid_to_Date__c", "Cash_Amount_50th_Reunion", "Fiscal_Year_Numeric", "GVAC.HAM_Attend__c", "ucinn_ascendv2__Amount_Paid_to_Date__c", "Contact.HAM_Reunion_Year__c_to_measure", "Cash_Amount", "Opportunity.ExpectedRevenue", "Opportunity.ucinn_ascendv2__Remaining_Amount_Due_Formula__c", "Opportunity.ucinn_ascendv2__Amount_Paid_to_Date_Same_Desig_Roll_Up__c", "Contact.ucinn_ascendv2__Preferred_Class_Year_Integer_Formula__c", "Contact.ucinn_ascendv2__Lifetime_Fundraising__c", "Contact.HAM_Consecutive_Years_of_Giving__c", "Household_Row_Number", "Bequest_Intention", "Contact.ucinn_ascendv2__Last_FY_Giving__c", "GVAC.HAM_Volunteer__c", "GVAC.HAM_Connect__c", "Number_of_Payments.Count.Fiscal_Years_Given" ],
        "dataset" : {
          "type" : "analyticsDataset",
          "label" : "Gift Credit and Payment",
          "name" : "Gift_Credit_and_Payment"
        },
        "sampleDetails" : {
          "type" : "TopN",
          "sortBy" : [ ]
        }
      }
    },
    "FILTER35_copy0" : {
      "action" : "filter",
      "sources" : [ "LOAD_DATASET41_copy0" ],
      "parameters" : {
        "filterExpressions" : [ {
          "type" : "TEXT",
          "field" : "Object",
          "operator" : "EQUAL",
          "operands" : [ "Hard and Soft Credit" ]
        } ]
      }
    },
    "FILTER69_copy0" : {
      "action" : "filter",
      "sources" : [ "EDIT_ATTRIBUTES65_copy0" ],
      "parameters" : {
        "filterExpressions" : [ {
          "type" : "NUMBER",
          "field" : "Fundraising_Amount",
          "operator" : "GREATER_THAN",
          "operands" : [ "0" ]
        }, {
          "type" : "DATETIME",
          "field" : "ucinn_ascendv2__Credit_Date_Formula__c",
          "operator" : "IS_NOT_NULL",
          "operands" : [ ]
        }, {
          "type" : "TEXT",
          "field" : "Account_or_Contact_Id",
          "operator" : "IS_NOT_NULL",
          "operands" : [ ]
        } ]
      }
    },
    "OUTPUT2_copy0" : {
      "action" : "save",
      "sources" : [ "FILTER70" ],
      "parameters" : {
        "fields" : [ ],
        "dataset" : {
          "type" : "analyticsDataset",
          "label" : "temp_date",
          "name" : "temp_date"
        },
        "measuresToCurrencies" : [ ]
      }
    },
    "FORMULA194_copy0_copy0" : {
      "action" : "formula",
      "sources" : [ "FILTER69_copy0" ],
      "parameters" : {
        "expressionType" : "SQL",
        "fields" : [ {
          "type" : "TEXT",
          "name" : "Key_of_Id_and_Date",
          "label" : "Key of Id and Date",
          "formulaExpression" : "concat(Account_or_Contact_Id,'-',substr(ucinn_ascendv2__Credit_Date_Formula__c,1,10))",
          "precision" : 255,
          "defaultValue" : ""
        } ]
      }
    },
    "DROP_FIELDS42_copy0_copy0" : {
      "action" : "schema",
      "sources" : [ "FORMULA194_copy0_copy0" ],
      "parameters" : {
        "fields" : [ ],
        "slice" : {
          "mode" : "SELECT",
          "ignoreMissingFields" : true,
          "fields" : [ "Key_of_Id_and_Date", "Fundraising_Amount", "Designation.ucinn_ascendv2__Designation_Name__c", "ucinn_ascendv2__Credit_Date_Formula__c" ]
        }
      }
    },
    "FORMULA202_copy0_copy0" : {
      "action" : "computeRelative",
      "sources" : [ "DROP_FIELDS42_copy0_copy0" ],
      "parameters" : {
        "partitionBy" : [ "Key_of_Id_and_Date" ],
        "orderBy" : [ {
          "fieldName" : "Key_of_Id_and_Date",
          "direction" : "ASC"
        } ],
        "expressionType" : "SQL",
        "fields" : [ {
          "type" : "MULTIVALUE",
          "name" : "All_Daily_Designation",
          "label" : "All Daily Designation",
          "formulaExpression" : "collect_set(\"Designation.ucinn_ascendv2__Designation_Name__c\")"
        } ]
      }
    },
    "FORMULA203_copy0_copy0" : {
      "action" : "formula",
      "sources" : [ "FORMULA202_copy0_copy0" ],
      "parameters" : {
        "expressionType" : "SQL",
        "fields" : [ {
          "type" : "TEXT",
          "name" : "Daily_Designation",
          "label" : "Daily Designation",
          "formulaExpression" : "string(All_Daily_Designation)",
          "precision" : 255,
          "defaultValue" : ""
        } ]
      }
    },
    "EXTRACT19_copy0" : {
      "action" : "extractGrains",
      "sources" : [ "FORMULA203_copy0_copy0" ],
      "parameters" : {
        "grainExtractions" : [ ]
      }
    },
    "AGGREGATE39_copy0" : {
      "action" : "aggregate",
      "sources" : [ "EXTRACT19_copy0" ],
      "schema" : {
        "fields" : [ {
          "name" : "Daily_Fundraising_Amount",
          "newProperties" : {
            "typeProperties" : {
              "type" : "NUMBER",
              "scale" : 2,
              "precision" : 18
            }
          }
        } ]
      },
      "parameters" : {
        "aggregations" : [ {
          "action" : "SUM",
          "source" : "Fundraising_Amount",
          "name" : "Daily_Fundraising_Amount",
          "label" : " Daily Fundraising Amount"
        } ],
        "groupings" : [ "Key_of_Id_and_Date" ],
        "pivots" : [ ],
        "nodeType" : "STANDARD"
      }
    },
    "FORMULA195_copy0_copy0" : {
      "action" : "formula",
      "sources" : [ "AGGREGATE39_copy0" ],
      "parameters" : {
        "expressionType" : "SQL",
        "fields" : [ {
          "type" : "TEXT",
          "name" : "Id",
          "label" : "Id",
          "formulaExpression" : "substr(Key_of_Id_and_Date,1,18)",
          "precision" : 255,
          "defaultValue" : ""
        } ]
      }
    },
    "FORMULA196_copy0_copy0" : {
      "action" : "formula",
      "sources" : [ "FORMULA195_copy0_copy0" ],
      "parameters" : {
        "expressionType" : "SQL",
        "fields" : [ {
          "type" : "TEXT",
          "name" : "Date",
          "label" : "Date",
          "formulaExpression" : "substr(Key_of_Id_and_Date,20,10)\r\n",
          "precision" : 255,
          "defaultValue" : ""
        } ]
      }
    },
    "FORMULA197_copy0_copy0" : {
      "action" : "computeRelative",
      "sources" : [ "FORMULA196_copy0_copy0" ],
      "parameters" : {
        "partitionBy" : [ "Id" ],
        "orderBy" : [ {
          "fieldName" : "Date",
          "direction" : "DESC"
        } ],
        "expressionType" : "SQL",
        "fields" : [ {
          "type" : "NUMBER",
          "name" : "First_Fundraising_Amount",
          "label" : "First Fundraising Amount",
          "formulaExpression" : "last_value(Daily_Fundraising_Amount)",
          "precision" : 10,
          "scale" : 2,
          "defaultValue" : ""
        } ]
      }
    },
    "FORMULA251_copy0" : {
      "action" : "computeRelative",
      "sources" : [ "FORMULA197_copy0_copy0" ],
      "parameters" : {
        "partitionBy" : [ "Id" ],
        "orderBy" : [ {
          "fieldName" : "Date",
          "direction" : "DESC"
        } ],
        "expressionType" : "SQL",
        "fields" : [ {
          "type" : "TEXT",
          "name" : "First_Fundraising_Date",
          "label" : "First Fundraising Date",
          "formulaExpression" : "last_value(Date)",
          "precision" : 255,
          "defaultValue" : ""
        } ]
      }
    },
    "TO_DATE0" : {
      "action" : "typeCast",
      "sources" : [ "FORMULA251_copy0" ],
      "schema" : {
        "fields" : [ {
          "name" : "Date_to_date",
          "newProperties" : {
            "name" : "Date"
          }
        } ],
        "slice" : {
          "mode" : "DROP",
          "ignoreMissingFields" : true,
          "fields" : [ "Date" ]
        }
      },
      "parameters" : {
        "fields" : [ {
          "name" : "Date",
          "newProperties" : {
            "label" : "Date",
            "name" : "Date_to_date",
            "typeProperties" : {
              "type" : "DATETIME",
              "format" : "yyyy-MM-dd"
            }
          }
        } ]
      }
    },
    "FILTER70" : {
      "action" : "filter",
      "sources" : [ "TO_DATE0" ],
      "parameters" : {
        "filterExpressions" : [ {
          "type" : "DATETIME",
          "field" : "Date",
          "operator" : "IS_NULL",
          "operands" : [ ]
        } ]
      }
    }
  },
  "ui" : {
    "nodes" : {
      "TRANSFORM4_copy0_copy0" : {
        "label" : "Enrich Credit Gift Payment",
        "description" : "",
        "type" : "TRANSFORM",
        "top" : 112,
        "left" : 112,
        "graph" : {
          "EDIT_ATTRIBUTES65_copy0" : {
            "label" : "Edit Attributes"
          }
        },
        "connectors" : [ ]
      },
      "LOAD_DATASET41_copy0" : {
        "label" : "Gift Credit and Payment",
        "type" : "LOAD_DATASET",
        "top" : 392,
        "left" : 112,
        "parameters" : {
          "sampleSize" : 2000
        }
      },
      "FILTER35_copy0" : {
        "label" : "Filter Object",
        "description" : "",
        "type" : "FILTER",
        "top" : 252,
        "left" : 112
      },
      "FILTER69_copy0" : {
        "label" : "Filter to fundraising>0",
        "description" : "",
        "type" : "FILTER",
        "top" : 112.5,
        "left" : 252.0999999999999
      },
      "OUTPUT2_copy0" : {
        "label" : "Output 2",
        "type" : "OUTPUT",
        "top" : 112,
        "left" : 1232
      },
      "TRANSFORM61_copy0_copy0" : {
        "label" : "Key Id+Date",
        "description" : "",
        "type" : "TRANSFORM",
        "top" : 112.4,
        "left" : 392,
        "graph" : {
          "FORMULA194_copy0_copy0" : {
            "parameters" : {
              "type" : "BASE_FORMULA_UI"
            },
            "label" : "Key of Id and Date"
          },
          "DROP_FIELDS42_copy0_copy0" : {
            "label" : "Keep Columns"
          },
          "FORMULA202_copy0_copy0" : {
            "label" : "All Daily Designation"
          },
          "FORMULA203_copy0_copy0" : {
            "parameters" : {
              "type" : "BASE_FORMULA_UI"
            },
            "label" : "Daily Designation"
          }
        },
        "connectors" : [ {
          "source" : "FORMULA194_copy0_copy0",
          "target" : "DROP_FIELDS42_copy0_copy0"
        }, {
          "source" : "DROP_FIELDS42_copy0_copy0",
          "target" : "FORMULA202_copy0_copy0"
        }, {
          "source" : "FORMULA202_copy0_copy0",
          "target" : "FORMULA203_copy0_copy0"
        } ]
      },
      "AGGREGATE38_copy0" : {
        "label" : "Aggregate Id and Date",
        "description" : "",
        "type" : "AGGREGATE",
        "top" : 112,
        "left" : 532,
        "graph" : {
          "EXTRACT19_copy0" : null,
          "AGGREGATE39_copy0" : null
        },
        "connectors" : [ {
          "source" : "EXTRACT19_copy0",
          "target" : "AGGREGATE39_copy0"
        } ]
      },
      "TRANSFORM62_copy0_copy0" : {
        "label" : "Enrich Fields",
        "description" : "",
        "type" : "TRANSFORM",
        "top" : 112.40000000000009,
        "left" : 812.0999999999999,
        "graph" : {
          "FORMULA195_copy0_copy0" : {
            "parameters" : {
              "type" : "BASE_FORMULA_UI"
            },
            "label" : "Id"
          },
          "FORMULA196_copy0_copy0" : {
            "parameters" : {
              "type" : "BASE_FORMULA_UI"
            },
            "label" : "Date"
          },
          "FORMULA197_copy0_copy0" : {
            "label" : "First Fundraising Amount"
          },
          "FORMULA251_copy0" : {
            "label" : "First Fundraising Date"
          }
        },
        "connectors" : [ {
          "source" : "FORMULA195_copy0_copy0",
          "target" : "FORMULA196_copy0_copy0"
        }, {
          "source" : "FORMULA197_copy0_copy0",
          "target" : "FORMULA251_copy0"
        }, {
          "source" : "FORMULA196_copy0_copy0",
          "target" : "FORMULA197_copy0_copy0"
        } ]
      },
      "TRANSFORM79_copy0" : {
        "label" : "Transform 79",
        "type" : "TRANSFORM",
        "top" : 112.20000000000005,
        "left" : 952.0999999999999,
        "graph" : {
          "TO_DATE0" : {
            "label" : "To Date"
          }
        },
        "connectors" : [ ]
      },
      "FILTER70" : {
        "label" : "Filter 70",
        "type" : "FILTER",
        "top" : 112,
        "left" : 1092
      }
    },
    "connectors" : [ {
      "source" : "FILTER35_copy0",
      "target" : "TRANSFORM4_copy0_copy0"
    }, {
      "source" : "LOAD_DATASET41_copy0",
      "target" : "FILTER35_copy0"
    }, {
      "source" : "TRANSFORM4_copy0_copy0",
      "target" : "FILTER69_copy0"
    }, {
      "source" : "FILTER69_copy0",
      "target" : "TRANSFORM61_copy0_copy0"
    }, {
      "source" : "TRANSFORM61_copy0_copy0",
      "target" : "AGGREGATE38_copy0"
    }, {
      "source" : "AGGREGATE38_copy0",
      "target" : "TRANSFORM62_copy0_copy0"
    }, {
      "source" : "FILTER70",
      "target" : "OUTPUT2_copy0"
    }, {
      "source" : "TRANSFORM62_copy0_copy0",
      "target" : "TRANSFORM79_copy0"
    }, {
      "source" : "TRANSFORM79_copy0",
      "target" : "FILTER70"
    } ],
    "hiddenColumns" : [ ]
  },
  "runMode" : "full"
}